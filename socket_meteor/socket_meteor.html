<head>
  <title>socket_meteor</title>
</head>

<body>
  {{> main }}
</body>

<template name="main">
  {{# if is_admin }}
    {{> admin_panel }}
  {{/if}}
  {{# if game_started }}
    <div id="main">
    {{# if player_in_game }}
      {{> current_question }}
    {{else}}
      {{> spectator }}
    {{/if}}
    </div>
    <div id="scoreboard">
      Score goes here
    </div>
  {{else}}
    {{# if player_in_game }}
      {{> wait_for_start }}
    {{else}}
      {{> register_new_user }}
    {{/if}}
  {{/if}}
  <div id="contestant_list">
    {{> contestant_list}}
  </div>
</template>

<template name="admin_panel">
  <div id="admin_panel" style="border:solid;">
  <h3>Admin Panel</h3>
  {{#unless game_started }}
    <button id="start_game">Start Game</button>
  {{/unless}}
  </div>
</template>

<template name="wait_for_start">
  {{contestant_name}}, we'll start in a few minutes
</template>

<template name="contestant_list">
  <h3> In Game</h3>
  <ul>
  {{#each contestants }}
    <li>{{name}}</li>
  {{else}}
    <li>Nobody has registered</li>
  {{/each}}
  </ul>
</template>

<template name="spectator">
  Sorry, game's started, why don't you watch?
</template>

<template name="current_question">
  <div id="current_question">
    What is 2 x 2?
    <input id="answer" type="text">
    <button id="answer_button">Submit</button>
  </div>
</template>

<template name="register_new_user">
  <div id="register">
    <input id="username" type="text">
    <button id="register_button">Register</button>
  </div>
</template>]
