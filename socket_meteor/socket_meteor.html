<head>
  <title>socket_meteor</title>
</head>

<body>
  {{> main }}
</body>

<template name="main">
  {{# if is_admin }}
    {{> admin_panel }}
  {{/if}}
  {{# if game_started }}
    {{# if game_over }}
      Game's over!
    {{else}}
      <div id="main">
      {{# if player_in_game }}
        {{> current_question }}
      {{else}}
        {{> spectator }}
      {{/if}}
      </div>
    {{/if}}
  {{else}}
    {{# if player_in_game }}
      {{> wait_for_start }}
    {{else}}
      {{> register_new_user }}
    {{/if}}
  {{/if}}
  <div id="scoreboard">
    {{> scoreboard}}
  </div>
</template>

<template name="admin_panel">
  <div id="admin_panel" style="border:solid;">
  <h3>Admin Panel</h3>
  {{#if game_started }}
    {{#if game_over }}
      Game's over, no buttons for you
    {{else}}
      <button id="next_round">Next Round</button>
    {{/if}}
  {{else}}
      <button id="start_game">Start Game</button>
  {{/if}}
  </div>
</template>

<template name="wait_for_start">
  {{contestant_name}}, we'll start in a few minutes
</template>

<template name="scoreboard">
  <h3> In Game</h3>
  <ul>
  {{#each contestants }}
    <li>{{name}} has {{score}} points</li>
  {{else}}
    <li>Nobody has registered</li>
  {{/each}}
  </ul>
</template>

<template name="spectator">
  Sorry, game's started, why don't you watch?
</template>

<template name="current_question">
  <div id="current_question">
    Question # {{ question_number }}
    {{ question_text }}
    <input id="answer" type="text">
    <button id="answer_question">Submit</button>
    <p id="feedback"></p>
  </div>
</template>

<template name="register_new_user">
  <div id="register">
    <input id="username" type="text">
    <button id="register_button">Register</button>
  </div>
</template>



<template name="hello">
  <h1>Hello World!</h1>
  {{ bob }}
  <input type="button" value="Click" />
</template>
